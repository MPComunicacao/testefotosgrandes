<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Pedido • WhatsApp</title>
<style>
  :root {
    --bg:#fdf5f0; --card:#fff; --muted:#6b5b4a; --text:#3e3e3e; --accent:#b36b60; --accent-hover:#9d5a51; --border:#e0d7ce;
  }
  *{box-sizing:border-box}
  body{margin:0; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background:var(--bg); color:var(--text);}
  .container{max-width:1100px; margin:0 auto; padding:24px;}
  header{display:flex; gap:12px; align-items:center; justify-content:space-between; margin-bottom:18px}
  .brand{display:flex; gap:12px; align-items:center}
  .logo{width:70px;height:70px;border-radius:12px;background:#fff; display:grid; place-items:center;}
  h1{font-size:22px; margin:0}
  .grid{display:grid; grid-template-columns:1fr; gap:16px}
  @media (min-width:960px){.grid{grid-template-columns:2fr 1fr}}
  .card{background:var(--card); border:1px solid var(--border); border-radius:18px; box-shadow:0 4px 8px rgba(0,0,0,0.05);}
  .card .head{padding:16px 18px; border-bottom:1px solid var(--border); font-weight:600; color:var(--accent)}

  /* Produtos como cards verticais */
  .products{display:grid; grid-template-columns:repeat(auto-fill,minmax(220px,1fr)); gap:16px; padding:16px}
  .prod{display:flex; flex-direction:column; background:#fff; border:1px solid var(--border); border-radius:16px; overflow:hidden; transition:all 0.2s; text-align:center;}
  .prod:hover{background:#f6eaea;}
  .thumb{width:100%; height:180px; overflow:hidden;}
  .thumb img{width:100%; height:100%; object-fit:cover;}
  .prod h3{margin:10px 0 4px; font-size:16px}
  .price{margin-bottom:10px; font-weight:600; color:var(--accent)}
  .qty{display:flex; justify-content:center; align-items:center; gap:8px; margin-bottom:12px;}
  .qty button{width:34px;height:34px;border-radius:10px;border:1px solid var(--border); background:#f7f1ed; color:var(--text); cursor:pointer; transition:all 0.2s}
  .qty button:hover{background:#e6d9cf;}
  .qty input{width:44px;text-align:center; padding:6px 8px;border-radius:10px;border:1px solid var(--border); background:#fdf5f0; color:var(--text)}

  .summary{position:sticky; top:16px}
  .section{padding:16px 18px; border-bottom:1px solid var(--border)}
  .row{display:flex; justify-content:space-between; align-items:center; gap:10px; margin:8px 0}
  .total{font-size:18px; font-weight:800; color:var(--accent)}
  .btn{display:inline-flex; align-items:center; justify-content:center; gap:10px; width:100%; padding:14px 16px; border-radius:14px; border:none; background:var(--accent); color:#fff; font-weight:800; cursor:pointer; font-size:16px; transition:all 0.2s}
  .btn:hover{background:var(--accent-hover);}
  .btn[disabled]{opacity:.5; cursor:not-allowed}
  .pill{padding:6px 10px; border:1px solid var(--border); border-radius:999px; font-size:12px; background:#f7f1ed; color:var(--muted)}
  input, select, textarea{width:100%; padding:10px 12px; border-radius:12px; border:1px solid var(--border); background:#fdf5f0; color:var(--text)}
  textarea{min-height:84px; resize:vertical}
  .foot{padding:14px 18px; font-size:12px; color:var(--muted)}
  .mini{font-size:12px}
  .tag{font-size:12px; padding:2px 8px; border-radius:999px; background:#f7f1ed; border:1px solid var(--border); color:var(--muted);}
  .cart-list{display:grid; gap:8px}
  .cart-item{display:flex; justify-content:space-between; align-items:center; gap:8px; padding:10px 12px; border:1px dashed var(--border); border-radius:12px; background:#fff;}
</style>
</head>
<body>
<div class="container">
<header>
  <div class="brand">
    <div class="logo" aria-hidden="true">
      <img src="imagens/logo.png" alt="Logo da Confeitaria" />
    </div>
    <div>
        <h1 id="storeName">Confeitaria Um Doce de Doce</h1>
        <div class="muted mini">Com envio para WhatsApp</div>
    </div>
  </div>
  <div class="pill">Total de itens: <span id="itemsCount">0</span></div>
</header>
<div class="grid">
<section class="card">
  <div class="head">Produtos</div>
  <div id="products" class="products"></div>
</section>
<aside class="card summary" role="complementary">
  <div class="head">Seu Pedido</div>
  <div class="section">
    <div id="cartList" class="cart-list"></div>
    <div class="muted mini" id="emptyHint">Seu carrinho está vazio.</div>
  </div>
  <div class="section">
    <div class="row"><span>Subtotal</span><strong id="subtotal">R$ 0,00</strong></div>
    <div class="row">
      <label for="deliveryMode">Entrega</label>
      <select id="deliveryMode">
        <option value="retirada">Retirada no local</option>
        <option value="entrega">Entrega</option>
      </select>
    </div>
    <div class="row" id="deliveryFeeRow" style="display:none">
      <label for="deliveryFee">Taxa de entrega</label>
      <input id="deliveryFee" type="number" min="0" step="0.01" placeholder="0,00" inputmode="decimal" />
    </div>
    <div class="row total"><span>Total</span><span id="total">R$ 0,00</span></div>
  </div>
  <div class="section">
    <div class="row"><label for="customerName">Nome</label></div>
    <input id="customerName" placeholder="Seu nome" />
    <div class="row" style="margin-top:10px"><label for="customerPhone">Telefone (opcional)</label></div>
    <input id="customerPhone" placeholder="(11) 99999-9999" />
    <div class="row" style="margin-top:10px"><label for="address">Endereço (se entrega)</label></div>
    <textarea id="address" placeholder="Rua, número, bairro, cidade"></textarea>
    <div class="row" style="margin-top:10px"><label for="notes">Observações</label></div>
    <textarea id="notes" placeholder="Ex.: sem lactose, ponto da calda, horário de retirada..."></textarea>
  </div>
  <div class="section">
    <button id="whatsBtn" class="btn" disabled>Finalizar no WhatsApp</button>
    <div class="foot">Ao clicar, abriremos seu WhatsApp com o resumo do pedido preenchido. Você pode revisar antes de enviar.</div>
  </div>
</aside>
</div>
<div class="foot">Dica: personalize a lista de produtos e o número do WhatsApp diretamente no código. Tudo roda localmente, sem servidor.</div>
</div>
<script>
const STORE={name:'Confeitaria Um Doce de Doce',phone:'5511997656674',currency:{locale:'pt-BR',code:'BRL'}};
const PRODUCTS=[
  { id: "agua-sem-gas", name:'Água sem Gás 500ml', price:6.00, image: "imagens/agua.jpg" },
  { id: "agua-com-gas", name:'Água com Gás 500ml', price: 6.00, image: "imagens/agua_gas.jpg" },
  { id:'coca', name:'Coca-Cola 350ml', price:7.10, image: "imagens/coca_cola.jpg" },
  { id: "coca-zero", name:'Coca-Cola Zero 350ml', price:7.10, image: "imagens/coca_cola_zero.jpg" },
  { id:'guarana', name:'Guaraná 350ml', price:7.10, image: "imagens/guarana.jpg" },
  { id:'suco-265', name:'Suco Lata 265ml', price: 7.80, image: "imagens/suco_lata_265.jpg" },
  { id:'suco-290', name:'Suco Lata 290ml', price:9.00, image: "imagens/suco_lata_290.jpg" },
  { id:'cafe-expresso', name:'Café Expresso', price:8.70, image: "imagens/expresso.jpg" },
  { id:'cafe-leite', name:'Café com Leite', price:9.60, image: "imagens/cafe_leite.jpg" },
  { id:'capuccino', name:'Capuccino', price:15.00, image: "imagens/capuccino.jpg" },
  { id:'cha-quente', name:'Chá Quente', price:7.60, image: "imagens/cha.jpg" },
  { id:'bolo-caseiro', name:'Bolo Caseiro Fatia', price:8.70, image: "imagens/caseiro_fatia.jpg" },
  { id:'bolo-confeitado', name:'Bolo Confeitado Fatia', price:19.80, image: "imagens/confeitado_fatia.jpg" },
  { id:'bolo-pote', name:'Bolo no Pote', price:18.00, image: "imagens/bolo_pote.jpg" },
  { id:'pao-queijo', name:'Mini Pão de Queijo (4 unids)', price:9.60, image: "imagens/pao_queijo.jpg" },
  { id:'panini', name:'Panini (4 unids)', price:16.20, image: "imagens/panini.jpg" },
  { id:'quiche-cebola', name:'Quiche de Cebola Carmelizada', price:23.10, image: "imagens/quiche_cebola.jpg" },
  { id:'quiche-caprese', name:'Quiche Caprese', price:23.10, image: "imagens/quiche_caprese.jpg" },
  { id:'croissant-presunto', name:'Croissant com Presunto e Queijo', price:23.10, image: "imagens/croissant_presunto.jpg" },
  { id:'croissant-queijo', name:'Croissant com Queijo Branco e Tomate Confit', price:26.00, image: "imagens/croissant_queijo_branco.jpg" },
  { id:'croissant-nutella', name:'Croissant com Nutella', price:24.00, image: "imagens/croissant_nutella.jpg" },
  { id:'pao-mel', name:'Pão de Mel', price:9.00, image: "imagens/pao_mel.jpg" },
  { id:'palha-italiana', name:'Palha Italiana', price:9.00, image: "imagens/palha.jpg" },
  { id:'brownie', name:'Brownie', price:9.00, image: "imagens/brownie.jpg" },
  { id:'suspiro', name:'Suspiro (Pacote 40g)', price:15.20, image: "imagens/suspiro.jpg" },
  { id:'rosa-suspiro', name:'Rosa de Suspiro Recheada com Brigadeiro', price:8.00, image: "imagens/rosa.jpg" }
];
const cart=new Map();
const fmt=n=>n.toLocaleString(STORE.currency.locale,{style:'currency',currency:STORE.currency.code});

function renderProducts(){
  const wrap=document.getElementById('products'); wrap.innerHTML='';
  PRODUCTS.forEach(p=>{
    const el=document.createElement('div'); el.className='prod';
    el.innerHTML=`
      <div class="thumb">
        <img src="${p.image}" alt="${p.name}" />
      </div>
      <h3>${p.name}</h3>
      <div class="price">${fmt(p.price)}</div>
      <div class="qty" data-id="${p.id}">
        <button>−</button>
        <input type="number" min="0" step="1" value="0" inputmode="numeric" />
        <button>+</button>
      </div>`;
    wrap.appendChild(el);
  });
  wrap.querySelectorAll('.qty').forEach(qty=>{
    const id=qty.getAttribute('data-id'); const product=PRODUCTS.find(p=>p.id===id);
    const [btnMinus,input,btnPlus]=qty.children;
    const sync=()=>{ const v=Math.max(0,parseInt(input.value||'0',10)); input.value=v; if(v>0) cart.set(id,{product,qty:v}); else cart.delete(id); updateCartUI(); };
    btnMinus.addEventListener('click',()=>{ input.value=Math.max(0,(parseInt(input.value||'0',10)-1)); sync(); });
    btnPlus.addEventListener('click',()=>{ input.value=(parseInt(input.value||'0',10)+1); sync(); });
    input.addEventListener('input',sync);
  });
}

function updateCartUI(){
  const list=document.getElementById('cartList'); const emptyHint=document.getElementById('emptyHint');
  const itemsCount=Array.from(cart.values()).reduce((s,i)=>s+i.qty,0); document.getElementById('itemsCount').textContent=itemsCount;
  list.innerHTML=''; if(cart.size===0){emptyHint.style.display='block';}else{emptyHint.style.display='none';}
  let subtotal=0;
  cart.forEach(({product,qty})=>{ const line=product.price*qty; subtotal+=line;
    const row=document.createElement('div'); row.className='cart-item';
    row.innerHTML=`<div style="display:flex; gap:8px; align-items:center"><span class="tag">${qty}×</span><div>${product.name}</div></div><div>${fmt(line)}</div>`;
    list.appendChild(row);
  });
  const deliveryMode=document.getElementById('deliveryMode').value;
  const feeRow=document.getElementById('deliveryFeeRow'); feeRow.style.display=deliveryMode==='entrega'?'flex':'none';
  const fee=deliveryMode==='entrega'?parseFloat((document.getElementById('deliveryFee').value||'0').replace(',', '.'))||0:0;
  document.getElementById('subtotal').textContent=fmt(subtotal);
  document.getElementById('total').textContent=fmt(subtotal+fee);
  document.getElementById('whatsBtn').disabled=(cart.size===0);
}

function buildWhatsAppText(){
  const now=new Date(); const orderId=now.toISOString().slice(0,19).replace(/[-:T]/g,'');
  const customer=document.getElementById('customerName').value.trim(); const phone=document.getElementById('customerPhone').value.trim();
  const deliveryMode=document.getElementById('deliveryMode').value; const address=document.getElementById('address').value.trim();
  const notes=document.getElementById('notes').value.trim();
  let subtotal=0; let lines=[];
  cart.forEach(({product,qty})=>{ const line=product.price*qty; subtotal+=line; lines.push(`- ${product.name} x${qty} — ${fmt(product.price)} = ${fmt(line)}`); });
  const fee=deliveryMode==='entrega'?parseFloat((document.getElementById('deliveryFee').value||'0').replace(',', '.'))||0:0;
  const total=subtotal+fee;
  const txt=[
    `Novo pedido — ${orderId}`, `#${orderId}`, '', 'Itens:', ...lines, '',
    `Subtotal: ${fmt(subtotal)}`, (deliveryMode==='entrega'?`Taxa de entrega: ${fmt(fee)}`:`Entrega: retirada no local`),
    `Total: ${fmt(total)}`, '', (customer?`Cliente: ${customer}`:''), (phone?`Contato: ${phone}`:''), (deliveryMode==='entrega'&&address?`Endereço: ${address}`:''), (notes?`Obs.: ${notes}`:'')
  ].filter(Boolean).join('\n');
  return encodeURIComponent(txt);
}

function init(){
  document.getElementById('storeName').textContent=STORE.name;
  renderProducts(); updateCartUI();
  document.getElementById('deliveryMode').addEventListener('change',updateCartUI);
  document.getElementById('deliveryFee').addEventListener('input',updateCartUI);
  document.getElementById('whatsBtn').addEventListener('click',()=>{ window.open(`https://wa.me/${STORE.phone}?text=${buildWhatsAppText()}`,'_blank'); });
}
init();
</script>
</body>
</html>